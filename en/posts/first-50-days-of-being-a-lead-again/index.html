<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>My first 50 days of being the lead software engineer (again) | y15a</title>
<meta name=keywords content="Joyz,Inc.,Software"><meta name=description content="Recent departures at our company led to a lack of technical leadership, especially in the infra/backend.
We had two choices. One is to scramble to hire a tech lead. Two is for me to assume the role temporarily while simultaneously functioning as the CEO.
We went for the second option.
This may seem like a red flag to some people. It is not ideal. Equally, I wasn&rsquo;t ready to throw someone into a job where they faced technical obstacles while understanding the users, the team, and the codebase. I was not confident enough to complete the hire in a month."><meta name=author content><link rel=canonical href=https://www.y15a.com/en/posts/first-50-days-of-being-a-lead-again/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://www.y15a.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.y15a.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.y15a.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.y15a.com/apple-touch-icon.png><link rel=mask-icon href=https://www.y15a.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.y15a.com/en/posts/first-50-days-of-being-a-lead-again/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-4NYFPSJF0F"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4NYFPSJF0F")}</script><meta property="og:title" content="My first 50 days of being the lead software engineer (again)"><meta property="og:description" content="Recent departures at our company led to a lack of technical leadership, especially in the infra/backend.
We had two choices. One is to scramble to hire a tech lead. Two is for me to assume the role temporarily while simultaneously functioning as the CEO.
We went for the second option.
This may seem like a red flag to some people. It is not ideal. Equally, I wasn&rsquo;t ready to throw someone into a job where they faced technical obstacles while understanding the users, the team, and the codebase. I was not confident enough to complete the hire in a month."><meta property="og:type" content="article"><meta property="og:url" content="https://www.y15a.com/en/posts/first-50-days-of-being-a-lead-again/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-21T06:56:50+00:00"><meta property="article:modified_time" content="2023-09-21T06:56:50+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="My first 50 days of being the lead software engineer (again)"><meta name=twitter:description content="Recent departures at our company led to a lack of technical leadership, especially in the infra/backend.
We had two choices. One is to scramble to hire a tech lead. Two is for me to assume the role temporarily while simultaneously functioning as the CEO.
We went for the second option.
This may seem like a red flag to some people. It is not ideal. Equally, I wasn&rsquo;t ready to throw someone into a job where they faced technical obstacles while understanding the users, the team, and the codebase. I was not confident enough to complete the hire in a month."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.y15a.com/en/posts/"},{"@type":"ListItem","position":2,"name":"My first 50 days of being the lead software engineer (again)","item":"https://www.y15a.com/en/posts/first-50-days-of-being-a-lead-again/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"My first 50 days of being the lead software engineer (again)","name":"My first 50 days of being the lead software engineer (again)","description":"Recent departures at our company led to a lack of technical leadership, especially in the infra/backend.\nWe had two choices. One is to scramble to hire a tech lead. Two is for me to assume the role temporarily while simultaneously functioning as the CEO.\nWe went for the second option.\nThis may seem like a red flag to some people. It is not ideal. Equally, I wasn\u0026rsquo;t ready to throw someone into a job where they faced technical obstacles while understanding the users, the team, and the codebase. I was not confident enough to complete the hire in a month.\n","keywords":["Joyz, Inc.","Software"],"articleBody":"Recent departures at our company led to a lack of technical leadership, especially in the infra/backend.\nWe had two choices. One is to scramble to hire a tech lead. Two is for me to assume the role temporarily while simultaneously functioning as the CEO.\nWe went for the second option.\nThis may seem like a red flag to some people. It is not ideal. Equally, I wasn’t ready to throw someone into a job where they faced technical obstacles while understanding the users, the team, and the codebase. I was not confident enough to complete the hire in a month.\nI decided to take the leap and act as the lead engineer in our company for the first time in 6 years. Here’s some of what came out of the first 50 days.\nDone (re)Enabled one-step build for the Django monolith We have a fully dockerised environment from local development to production. The problem was that the base Docker image used for packaging everything for deployment required a manual build from a local machine. This is troublesome in a few ways:\nHost OS dependency. Docker isn’t well-known for its ability to cross-build across the host OS. Not every developer has Ubuntu as their development machine, which can lead (and have led) to issues. Coordination outside of git. You have non-trivial planning to do when multiple developers are working on changes that require dependency upgrades. Who is going to run the build, and when? After merging both branches or only one? This makes our Continuous Integration less continuous. I’m glad to have made contributions in this area. This will help us stay closer to our aspiration to ship valuable code often.\nFixing broken development branch A major feature addition to our product was in the development branch + test environment. After the engineers behind the update have left, we’ve found:\nThe test cases were not thoroughly written. There were type mismatches and wrong dynamic import. You can easily spot these by writing tests that run the relevant lines of code. Missing migration files. This meant that despite being released to an environment with a relational database, there was a mismatch between the code and the schema. We did not know the extent of the malfunction at the beginning. Fast forward several weeks, and we now have the fixes, additional tests and type consistency across the changes.\nMany of the errors could easily be caught with type annotations and mypy. We will fully embrace typed Python as I’ll discuss later.\nAdding lcov file support + in-line coverage display Ease of access matters. It’s harder to convince yourself to achieve good code coverage in your tests if you have to open coverage results and visually compare them against your codebase. That’s why we must lower friction. And the best way to reduce friction is to bring everything in context.\nThere’s a wonderful extension in VS Code called Coverage Gutters. With a small change in the build/CI pipeline to export coverage into a lcov file, you can see the latest code coverage right in your editor. I’ve enabled this for our frontend repositories as well as the backend.\nDoing Another major feature update There will be another feature addition in our study report pipeline that will please English teachers nationwide, powered by artificial intelligence.\nGeneral code refactoring We want a less mutual coupling between Django apps to enable separation of concern. Such a codebase is easier to collaborate on. The codebase is pretty extensively tested, making refactoring much more manageable than otherwise. Which is great news.\nMy strategy in all things refactoring is:\nIsolate - break down larger files into smaller ones Move tests to appropriate subdirectories in a hierarchical namespace Move code Consolidate code - put similar functions into the same module Enforce DRY - Don’t Repeat Yourself - principle Many developers start with steps 4 or 5 before completing 1 to 3. I do not recommend that approach. Doing more than one of these steps simultaneously introduces permutations, and the complexity will grow exponentially. Don’t trust your IQ, especially if your project is large. Make it linear. Take it slow.\nIt will likely take several rounds of isolate-consolidate-DRY cycles for a larger project to reach a good state.\nWe are still in the process of 1 to 3 for our own code, doing 4 and 5 when we feel safe. It’s still early days! However, we already see its fruits when developing new features.\nGradual typing I’m a firm believer in typed Python.\nDynamic, classical Pythonic Python is great when it’s used in the right place. Django ORM is a great example of what a dynamic programming language can do.\nHowever, unless your code is explicitly designed to support unknown use cases, your code is better off being typed. Meaning: Your code should be statically typed in 99% of commercial programming.\nBy using typed Python, you will avoid nasty patterns such as throwing data around in undefined nested dictionaries. Also, scaling dynamic programming requires every contributor to the project to be adept at sensibly naming classes, functions and variables. I’m unsure whether we can ever make such an assumption, especially considering the rising diversity in technology and non-English speaking developers.\nI looked at the mypy.ini in the project, and it was last edited 6 years ago - by - myself. We will need to take this one line at a time.\nStreamlining static file management This topic will be worth an article on its own. My goals:\nHave a uniform API for all CRUD operations for static files, local or cloud, version-controlled or user-generated. Enable gradual end-to-end testing for both local and CI. A complete set of CRUD tests will be performed against the cloud in daily and release builds. This was partially implemented but not enforced across the project. Eliminating low-level S3 calls everywhere but the shared utility will be the sensible first step.\nMove to dependabot We first need to push the whole dependency to the latest-ish state. We are getting closer, but not quite there yet.\nFaster tests This is another area where developer productivity could be boosted significantly. Slow tests impact local tests and the CI, causing an arbitrary wait in the process. It can break the flow state.\nI am yet to run a full profiling of the tests, but my rough plans are:\nFix corner cases that fail only when setting the --parallel option Spot and fix any I/O bound tests Other CPU/RAM oriented optimisations - better cache, extending the minimum viable TestCase class, test fixture. Python 3.12 and Django 5.0 will introduce test profiling, so upgrading to these would be a good place to get started.\n","wordCount":"1111","inLanguage":"en","datePublished":"2023-09-21T06:56:50Z","dateModified":"2023-09-21T06:56:50Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.y15a.com/en/posts/first-50-days-of-being-a-lead-again/"},"publisher":{"@type":"Organization","name":"y15a","logo":{"@type":"ImageObject","url":"https://www.y15a.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.y15a.com/en/ accesskey=h title="y15a (Alt + H)">y15a</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://www.y15a.com/ title=日本語 aria-label=日本語>Ja</a></li></ul></div></div><ul id=menu><li><a href=https://www.y15a.com/en/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://www.y15a.com/en/archives title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">My first 50 days of being the lead software engineer (again)</h1><div class=post-meta><span title='2023-09-21 06:56:50 +0000 UTC'>September 21, 2023</span></div></header><div class=post-content><p>Recent departures at our company led to a lack of technical leadership, especially in the infra/backend.</p><p>We had two choices. One is to scramble to hire a tech lead. Two is for me to assume the role temporarily while simultaneously functioning as the CEO.</p><p>We went for the second option.</p><p>This may seem like a red flag to some people. It is not ideal. Equally, I wasn&rsquo;t ready to throw someone into a job where they faced technical obstacles while understanding the users, the team, and the codebase. I was not confident enough to complete the hire in a month.</p><p>I decided to take the leap and act as the lead engineer in our company for the first time in 6 years. Here&rsquo;s some of what came out of the first 50 days.</p><h2 id=done>Done<a hidden class=anchor aria-hidden=true href=#done>#</a></h2><h3 id=reenabled-one-step-build-for-the-django-monolith>(re)Enabled one-step build for the Django monolith<a hidden class=anchor aria-hidden=true href=#reenabled-one-step-build-for-the-django-monolith>#</a></h3><p>We have a fully dockerised environment from local development to production. The problem was that the base Docker image used for packaging everything for deployment required a manual build from a local machine. This is troublesome in a few ways:</p><ol><li>Host OS dependency. Docker isn&rsquo;t well-known for its ability to cross-build across the host OS. Not every developer has Ubuntu as their development machine, which can lead (and have led) to issues.</li><li>Coordination outside of git. You have non-trivial planning to do when multiple developers are working on changes that require dependency upgrades. Who is going to run the build, and when? After merging both branches or only one? This makes our Continuous Integration less continuous.</li></ol><p>I&rsquo;m glad to have made contributions in this area. This will help us stay closer to our aspiration to ship valuable code often.</p><h3 id=fixing-broken-development-branch>Fixing broken development branch<a hidden class=anchor aria-hidden=true href=#fixing-broken-development-branch>#</a></h3><p>A major feature addition to our product was in the development branch + test environment. After the engineers behind the update have left, we&rsquo;ve found:</p><ol><li>The test cases were not thoroughly written. There were type mismatches and wrong dynamic import. You can easily spot these by writing tests that run the relevant lines of code.</li><li>Missing migration files. This meant that despite being released to an environment with a relational database, there was a mismatch between the code and the schema.</li></ol><p>We did not know the extent of the malfunction at the beginning. Fast forward several weeks, and we now have the fixes, additional tests and type consistency across the changes.</p><p>Many of the errors could easily be caught with type annotations and <code>mypy</code>. We will fully embrace typed Python as I&rsquo;ll discuss later.</p><h3 id=adding-lcov-file-support--in-line-coverage-display>Adding lcov file support + in-line coverage display<a hidden class=anchor aria-hidden=true href=#adding-lcov-file-support--in-line-coverage-display>#</a></h3><p>Ease of access matters. It&rsquo;s harder to convince yourself to achieve good code coverage in your tests if you have to open coverage results and visually compare them against your codebase. That&rsquo;s why we must lower friction. And the best way to reduce friction is to bring everything in context.</p><p>There&rsquo;s a wonderful extension in VS Code called Coverage Gutters. With a small change in the build/CI pipeline to export coverage into a lcov file, you can see the latest code coverage right in your editor. I&rsquo;ve enabled this for our frontend repositories as well as the backend.</p><h2 id=doing>Doing<a hidden class=anchor aria-hidden=true href=#doing>#</a></h2><h3 id=another-major-feature-update>Another major feature update<a hidden class=anchor aria-hidden=true href=#another-major-feature-update>#</a></h3><p>There will be another feature addition in our study report pipeline that will please English teachers nationwide, powered by artificial intelligence.</p><h3 id=general-code-refactoring>General code refactoring<a hidden class=anchor aria-hidden=true href=#general-code-refactoring>#</a></h3><p>We want a less mutual coupling between Django apps to enable separation of concern. Such a codebase is easier to collaborate on. The codebase is pretty extensively tested, making refactoring much more manageable than otherwise. Which is great news.</p><p>My strategy in all things refactoring is:</p><ol><li>Isolate - break down larger files into smaller ones</li><li>Move tests to appropriate subdirectories in a hierarchical namespace</li><li>Move code</li><li>Consolidate code - put similar functions into the same module</li><li>Enforce DRY - Don&rsquo;t Repeat Yourself - principle</li></ol><p>Many developers start with steps 4 or 5 before completing 1 to 3. I do not recommend that approach. Doing more than one of these steps simultaneously introduces permutations, and the complexity will grow exponentially. Don&rsquo;t trust your IQ, especially if your project is large. Make it linear. Take it slow.</p><p>It will likely take several rounds of isolate-consolidate-DRY cycles for a larger project to reach a good state.</p><p>We are still in the process of 1 to 3 for our own code, doing 4 and 5 when we feel safe. It&rsquo;s still early days! However, we already see its fruits when developing new features.</p><h3 id=gradual-typing>Gradual typing<a hidden class=anchor aria-hidden=true href=#gradual-typing>#</a></h3><p>I&rsquo;m a firm believer in typed Python.</p><p>Dynamic, classical Pythonic Python is great when it&rsquo;s used in the right place. Django ORM is a great example of what a dynamic programming language can do.</p><p>However, unless your code is explicitly designed to support unknown use cases, your code is better off being typed. Meaning: Your code should be statically typed in 99% of commercial programming.</p><p>By using typed Python, you will avoid nasty patterns such as throwing data around in undefined nested dictionaries. Also, scaling dynamic programming requires every contributor to the project to be adept at sensibly naming classes, functions and variables. I&rsquo;m unsure whether we can ever make such an assumption, especially considering the rising diversity in technology and non-English speaking developers.</p><p>I looked at the <code>mypy.ini</code> in the project, and it was last edited 6 years ago - by - myself. We will need to take this one line at a time.</p><h3 id=streamlining-static-file-management>Streamlining static file management<a hidden class=anchor aria-hidden=true href=#streamlining-static-file-management>#</a></h3><p>This topic will be worth an article on its own. My goals:</p><ol><li>Have a uniform API for all CRUD operations for static files, local or cloud, version-controlled or user-generated.</li><li>Enable gradual end-to-end testing for both local and CI. A complete set of CRUD tests will be performed against the cloud in daily and release builds.</li></ol><p>This was partially implemented but not enforced across the project. Eliminating low-level S3 calls everywhere but the shared utility will be the sensible first step.</p><h3 id=move-to-dependabot>Move to dependabot<a hidden class=anchor aria-hidden=true href=#move-to-dependabot>#</a></h3><p>We first need to push the whole dependency to the latest-ish state. We are getting closer, but not quite there yet.</p><h3 id=faster-tests>Faster tests<a hidden class=anchor aria-hidden=true href=#faster-tests>#</a></h3><p>This is another area where developer productivity could be boosted significantly. Slow tests impact local tests and the CI, causing an arbitrary wait in the process. It can break the flow state.</p><p>I am yet to run a full profiling of the tests, but my rough plans are:</p><ol><li>Fix corner cases that fail only when setting the <code>--parallel</code> option</li><li>Spot and fix any I/O bound tests</li><li>Other CPU/RAM oriented optimisations - better cache, extending the minimum viable TestCase class, test fixture.</li></ol><p>Python 3.12 and Django 5.0 will introduce test profiling, so upgrading to these would be a good place to get started.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.y15a.com/en/tags/joyz-inc./>Joyz, Inc.</a></li><li><a href=https://www.y15a.com/en/tags/software/>Software</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://www.y15a.com/en/>y15a</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>